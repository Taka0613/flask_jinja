<!-- list_view.html -->
{% extends 'base.html' %}

{% block content %}
<h2>{{ todo_list.name }}</h2>
<a href="{{ url_for('add_task', list_id=todo_list.id) }}">Add Task</a>

<!-- Delete List Button -->
<form action="{{ url_for('delete_list', list_id=todo_list.id) }}" method="post" style="display:inline;">
    <button type="submit" onclick="return confirm('Are you sure you want to delete this list and all its tasks?');">
        Delete List
    </button>
</form>

<ul>
    {% import 'task_item.html' as task_macros %}
    {% for task in tasks %}
    {{ task_macros.render_task(task, level=1) }}
    {% endfor %}
</ul>

<a href="{{ url_for('index') }}">Back to Lists</a>
{% endblock %}